{"version":3,"file":"static/js/89.d57b3d63.chunk.js","mappings":"sPACA,EAAiC,8BAAjC,EAA4E,0BAA5E,EAAwH,+BAAxH,EAAmK,yBAAnK,EAAuM,wBAAvM,EAAuO,qBAAvO,EAAoQ,qBAApQ,EAAkS,sBAAlS,EAAiU,sB,UCMlT,SAASA,IACtB,IAAMC,EAAiBC,EAAAA,GAEjBC,EAAgB,SAACC,GACrB,IAAMC,EAASC,WAAWF,GAC1B,OAAIG,MAAMF,IAAWA,EAAS,KAAO,IACnCG,MAAM,+IACC,EAGX,EAEMC,EAAY,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOC,GAAC,IAAAC,EAAAV,EAAAW,EAAAC,EAAAC,EAAA,OAAAN,IAAAA,MAAA,SAAAO,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGe,GAF1CP,EAAEQ,iBACIP,EAAOD,EAAES,cACTlB,EAASU,EAAKS,SAASnB,OAAOD,MAE/BD,EAAcE,GAAQ,CAADc,EAAAE,KAAA,eAAAF,EAAAM,OAAA,wBAAAN,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAKDK,EAAAA,EAAAA,KAAW,sBAAuB,CAACrB,OAAAA,IAAS,KAAD,EAA5DW,EAAQG,EAAAQ,KACRV,EAAWD,EAASY,MAGpBV,EAAOW,SAASC,cAAc,SAC/BC,OAAS,OACdb,EAAKc,OAAS/B,EACdiB,EAAKe,cAAgB,QAGrBC,OAAOC,QAAQlB,GAAUmB,SAAQ,SAAAC,GAAoB,IAADC,GAAAC,EAAAA,EAAAA,GAAAF,EAAA,GAAjBG,EAAIF,EAAA,GAAElC,EAAKkC,EAAA,GACtCG,EAAQZ,SAASC,cAAc,SACrCW,EAAMC,KAAO,SACbD,EAAMD,KAAOA,EACbC,EAAMrC,MAAQA,EACdc,EAAKyB,YAAYF,EACnB,IAGAZ,SAASe,KAAKD,YAAYzB,GAC1BA,EAAK2B,SACLhB,SAASe,KAAKE,YAAY5B,GAAMC,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA4B,GAAA5B,EAAA,SAGhC6B,QAAQC,MAAM,4LAAqC9B,EAAA4B,IACnDvC,MAAM,6SAA6D,QAGtD,OAHsDW,EAAAC,KAAA,GAGnEL,EAAKmC,QAAQ/B,EAAAgC,OAAA,6BAAAhC,EAAAiC,OAAA,GAAAvC,EAAA,yBAEhB,gBAxCiBwC,GAAA,OAAA3C,EAAA4C,MAAA,KAAAC,UAAA,KA0ClB,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAmBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAeC,SAAC,2XAO/BC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAoBC,SAAC,ylBAKpCC,EAAAA,EAAAA,KAAA,QAAMC,SAAUpD,EAAcgD,UAAWC,EAAcC,UACrDH,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,SAAOH,UAAWC,EAAUC,SAAC,0MAI/BC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,SAAOH,UAAWC,EAChBhB,KAAK,SACLF,KAAK,cAGToB,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,UAAQlB,KAAK,SAASe,UAAWC,EAAWC,SAAC,oEAI/CH,EAAAA,EAAAA,MAAA,MAAAG,SAAA,CAAI,+EACaC,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CAClBC,GAAG,mEACHC,OAAO,SACPP,UAAWC,EAAWC,SACvB,gHAQb,CArGAjC,EAAAA,EAAAA,SAAAA,QAAyBuC,EAAAA,E","sources":["webpack://bonus-programm-react/./src/components/Donat/Donat.module.css?3d05","components/Donat/Donat.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"containerDonat\":\"Donat_containerDonat__m9D+a\",\"titleDonat\":\"Donat_titleDonat__iEvFP\",\"decriptionDonat\":\"Donat_decriptionDonat__1mKcK\",\"formDonat\":\"Donat_formDonat__LbPpx\",\"listForm\":\"Donat_listForm__SGzHI\",\"label\":\"Donat_label__fOJU+\",\"input\":\"Donat_input__h2i24\",\"button\":\"Donat_button__l47xr\",\"oferta\":\"Donat_oferta__QUIu-\"};","import axios from 'axios';\nimport {AXIOS_BASE_URL, API_PAY_ENDPOINT} from '../../constants';\nimport { Link } from 'react-router-dom';\nimport css from './Donat.module.css';\n\naxios.defaults.baseURL = AXIOS_BASE_URL;\n\nexport default function Donat () {\n  const apiPayEndpoint = API_PAY_ENDPOINT;\n\n  const isAmountValid = (value) => {\n    const amount = parseFloat(value);\n    if (isNaN(amount) || amount % 40 !== 0) {\n      alert('Сума повинна бути кратною 40');\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const calc = e.currentTarget;\n    const amount = calc.elements.amount.value;\n\n    if (!isAmountValid(amount)) {\n      return;\n    }\n\n    try {\n      const response = await axios.post(\"/api/payments/donat\", {amount});\n      const postData = response.data;\n\n      // Створення форми та автоматичне надсилання\n      const form = document.createElement('form');\n      form.method = 'POST';\n      form.action = apiPayEndpoint;\n      form.acceptCharset = 'utf-8';\n  \n      // Додавання прихованих полів\n      Object.entries(postData).forEach(([name, value]) => {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = name;\n        input.value = value;\n        form.appendChild(input);\n      });\n  \n      // Додавання форми до body та автоматичне відправлення\n      document.body.appendChild(form);\n      form.submit();\n      document.body.removeChild(form); \n    } \n    catch (error) {\n      console.error('Помилка під час відправлення форми:', error);\n      alert('Помилка відправки форми. Будь ласка, спробуйте повторити.');\n    }\n    finally {\n      calc.reset();\n    }\n  };\n\n  return (\n    <div className={css.containerDonat}>\n      <h1 className={css.titleDonat}>\n        Допоможи\n        1 000 000 людей\n        перейти на українську\n        та звільнитися\n        від впливу росії\n      </h1>\n      <h2 className={css.decriptionDonat}>\n        Кожні 40 гривень Вашої підтримки \n        надають можливість проєкту допомогти \n        1 українцеві на місяць перейти на українську! \n      </h2>\n      <form onSubmit={handleSubmit} className={css.formDonat}>\n        <ul className={css.listForm}>\n          <li>\n            <label className={css.label}>\n              Введіть бажану суму у гривнях кратну 40\n            </label>\n          </li>\n          <li>\n            <input className={css.input}\n              type=\"number\"\n              name=\"amount\"\n            />\n          </li>\n          <li>\n            <button type=\"submit\" className={css.button}>\n              Підтримати\n            </button>\n          </li>\n          <li>\n            Я погоджуюсь з <Link \n              to=\"https://yedyni.org/wp-content/uploads/2023/08/dogovir-oferty.pdf\"\n              target=\"_blank\"\n              className={css.oferta} \n            >\n              Публічною офертою\n            </Link>\n          </li>\n        </ul>\n      </form>\n    </div>\n  );\n};"],"names":["Donat","apiPayEndpoint","API_PAY_ENDPOINT","isAmountValid","value","amount","parseFloat","isNaN","alert","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","e","calc","response","postData","form","_context","prev","next","preventDefault","currentTarget","elements","abrupt","axios","sent","data","document","createElement","method","action","acceptCharset","Object","entries","forEach","_ref2","_ref3","_slicedToArray","name","input","type","appendChild","body","submit","removeChild","t0","console","error","reset","finish","stop","_x","apply","arguments","_jsxs","className","css","children","_jsx","onSubmit","Link","to","target","AXIOS_BASE_URL"],"sourceRoot":""}