{"version":3,"file":"static/js/501.b3f55eed.chunk.js","mappings":"6OACA,GAAiB,E,UCKF,SAASA,IACtB,IAAMC,EAAiBC,EAAAA,GAEjBC,EAAgB,SAACC,GACrB,IAAMC,EAASC,WAAWF,GAC1B,OAAIG,MAAMF,IAAWA,EAAS,KAAO,IACnCG,MAAM,+IACC,EAGX,EAEMC,EAAY,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOC,GAAC,IAAAC,EAAAV,EAAAW,EAAAC,EAAAC,EAAA,OAAAN,IAAAA,MAAA,SAAAO,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGe,GAF1CP,EAAEQ,iBACIP,EAAOD,EAAES,cACTlB,EAASU,EAAKS,SAASnB,OAAOD,MAE/BD,EAAcE,GAAQ,CAADc,EAAAE,KAAA,eAAAF,EAAAM,OAAA,wBAAAN,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAKDK,EAAAA,EAAAA,KAAW,sBAAuB,CAACrB,OAAAA,IAAS,KAAD,EAA5DW,EAAQG,EAAAQ,KACRV,EAAWD,EAASY,MAGpBV,EAAOW,SAASC,cAAc,SAC/BC,OAAS,OACdb,EAAKc,OAAS/B,EACdiB,EAAKe,cAAgB,QAGrBC,OAAOC,QAAQlB,GAAUmB,SAAQ,SAAAC,GAAoB,IAADC,GAAAC,EAAAA,EAAAA,GAAAF,EAAA,GAAjBG,EAAIF,EAAA,GAAElC,EAAKkC,EAAA,GACtCG,EAAQZ,SAASC,cAAc,SACrCW,EAAMC,KAAO,SACbD,EAAMD,KAAOA,EACbC,EAAMrC,MAAQA,EACdc,EAAKyB,YAAYF,EACnB,IAGAZ,SAASe,KAAKD,YAAYzB,GAC1BA,EAAK2B,SACLhB,SAASe,KAAKE,YAAY5B,GAAMC,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA4B,GAAA5B,EAAA,SAGhC6B,QAAQC,MAAM,4LAAqC9B,EAAA4B,IACnDvC,MAAM,6SAA6D,QAGtD,OAHsDW,EAAAC,KAAA,GAGnEL,EAAKmC,QAAQ/B,EAAAgC,OAAA,6BAAAhC,EAAAiC,OAAA,GAAAvC,EAAA,yBAEhB,gBAxCiBwC,GAAA,OAAA3C,EAAA4C,MAAA,KAAAC,UAAA,KA0ClB,OACEC,EAAAA,EAAAA,MAAA,QAAMC,SAAUhD,EAAciD,UAAWC,EAAAA,KAASC,SAAA,EAChDJ,EAAAA,EAAAA,MAAA,SAAOE,UAAWC,EAAAA,MAAUC,SAAA,CAAC,6EAE3BC,EAAAA,EAAAA,KAAA,SACEnB,KAAK,SACLF,KAAK,eAGTqB,EAAAA,EAAAA,KAAA,UAAQnB,KAAK,SAASgB,UAAWC,EAAAA,OAAWC,SAAC,mEAKnD,CAtEAlC,EAAAA,EAAAA,SAAAA,QAAyBoC,EAAAA,E","sources":["components/Calculator/Calculator.module.css","components/Calculator/Calculator.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import axios from 'axios';\nimport {AXIOS_BASE_URL, API_PAY_ENDPOINT} from '../../constants';\nimport css from './Calculator.module.css';\n\naxios.defaults.baseURL = AXIOS_BASE_URL;\n\nexport default function Calculator () {\n  const apiPayEndpoint = API_PAY_ENDPOINT;\n\n  const isAmountValid = (value) => {\n    const amount = parseFloat(value);\n    if (isNaN(amount) || amount % 40 !== 0) {\n      alert('Сума повинна бути кратною 40');\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const calc = e.currentTarget;\n    const amount = calc.elements.amount.value;\n\n    if (!isAmountValid(amount)) {\n      return;\n    }\n\n    try {\n      const response = await axios.post(\"/api/payments/donat\", {amount});\n      const postData = response.data;\n\n      // Створення форми та автоматичне надсилання\n      const form = document.createElement('form');\n      form.method = 'POST';\n      form.action = apiPayEndpoint;\n      form.acceptCharset = 'utf-8';\n  \n      // Додавання прихованих полів\n      Object.entries(postData).forEach(([name, value]) => {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = name;\n        input.value = value;\n        form.appendChild(input);\n      });\n  \n      // Додавання форми до body та автоматичне відправлення\n      document.body.appendChild(form);\n      form.submit();\n      document.body.removeChild(form); \n    } \n    catch (error) {\n      console.error('Помилка під час відправлення форми:', error);\n      alert('Помилка відправки форми. Будь ласка, спробуйте повторити.');\n    }\n    finally {\n      calc.reset();\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={css.form}>\n      <label className={css.label}>\n        Введіть сумму\n        <input\n          type=\"number\"\n          name=\"amount\"\n        />\n      </label>\n      <button type=\"submit\" className={css.button}>\n        Підтримати\n      </button>\n    </form>\n  );\n};"],"names":["Calculator","apiPayEndpoint","API_PAY_ENDPOINT","isAmountValid","value","amount","parseFloat","isNaN","alert","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","e","calc","response","postData","form","_context","prev","next","preventDefault","currentTarget","elements","abrupt","axios","sent","data","document","createElement","method","action","acceptCharset","Object","entries","forEach","_ref2","_ref3","_slicedToArray","name","input","type","appendChild","body","submit","removeChild","t0","console","error","reset","finish","stop","_x","apply","arguments","_jsxs","onSubmit","className","css","children","_jsx","AXIOS_BASE_URL"],"sourceRoot":""}