{"version":3,"file":"static/js/501.cbdb7f6d.chunk.js","mappings":"mPACA,GAAiB,E,UCMF,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACVC,GAAQC,EAAAA,EAAAA,KAARD,KAEDE,EAAa,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOC,GAAW,IAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEbC,EAAAA,EAAAA,KAAW,+BAAgCL,EAAa,CAC7EM,QAAS,CACP,UAAY,+CACZ,eAAgB,sBAEjB,KAAD,EALY,OAARL,EAAQC,EAAAK,KAAAL,EAAAM,OAAA,SAMPP,EAASQ,MAAI,OAAAP,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAGpBS,QAAQC,MAAM,4LAAqCV,EAAAQ,IACnDG,MAAM,6SAA6D,yBAAAX,EAAAY,OAAA,GAAAf,EAAA,kBAEtE,gBAdkBgB,GAAA,OAAAnB,EAAAoB,MAAA,KAAAC,UAAA,KAiDnB,OACEC,EAAAA,EAAAA,KAAA,OAAAC,UACEC,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAAA,KAAUC,SA9BV,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cAEf,GAToB,SAACC,GACrB,IAAMC,EAASC,WAAWF,GAC1B,OAAQG,MAAMF,IAAWA,EAAS,KAAO,CAC3C,CAMOG,CAAcN,EAAKO,SAASJ,OAAOD,OAAxC,CAKA,IAAMM,EAAW,CACfL,OAAqC,IAA7BH,EAAKO,SAASJ,OAAOD,MAC7BO,IAAK,IACLC,iBAAkB,CAChBC,UAAW5C,EAAK6C,IAElBC,YAAa,kDACbC,WAAY,+CAGRvC,EAAWN,EAAcuC,GAE3BjC,GACFV,EAASU,EAASwC,SAGpBf,EAAKgB,OAlBL,MAFE7B,MAAM,6IAqBV,EAIuD8B,aAAa,MAAKxB,SAAA,EACnED,EAAAA,EAAAA,KAAA,SAAOG,UAAWC,EAAAA,MAAUH,UAC1BD,EAAAA,EAAAA,KAAA,SAAO0B,YAAY,sEAAeC,KAAK,OAAOC,KAAK,cAErD5B,EAAAA,EAAAA,KAAA,UAAQG,UAAWC,EAAAA,OAAYuB,KAAK,SAAQ1B,SAAC,qEAIrD,CAjEAd,EAAAA,EAAAA,SAAAA,QAAyB,yB","sources":["components/Calculator/Calculator.module.css","components/Calculator/Calculator.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from 'hooks';\nimport css from './Calculator.module.css';\n\naxios.defaults.baseURL = \"https://api.monobank.ua\";\n\nexport default function Calculator () {\n  const navigate = useNavigate();\n  const {user} = useAuth();\n\n  const createInvoice = async (credentials) => {\n    try {\n      const response = await axios.post('/api/merchant/invoice/create', credentials, {\n        headers: {\n          'X-Token' : 'uyj5rPqx_QcltpWAZPONVZekEnxJOrdeKDH6FWysAtII',\n          'Content-Type': 'application/json',\n        },\n      });\n      return response.data;\n    } \n    catch (error) {\n      console.error('Помилка під час відправлення форми:', error);\n      alert('Помилка відправки форми. Будь ласка, спробуйте повторити.');\n    }\n  }\n\n  const isAmountValid = (value) => {\n    const amount = parseFloat(value);\n    return !isNaN(amount) && amount % 40 === 0;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n\n    if (!isAmountValid(form.elements.amount.value)) {\n      alert('Сума повинна бути кратною 40');\n      return;\n    }\n\n    const formData = {\n      amount: form.elements.amount.value * 100,\n      ccy: 980,\n      merchantPaymInfo: {\n        reference: user.id,\n        },\n      redirectUrl: \"https://nikkuts.github.io/bonus-programm-react/\",\n      webHookUrl: \"https://bonus-programm-backend.onrender.com\",\n    };\n  \n    const response = createInvoice(formData);\n\n    if (response) {\n      navigate(response.pageUrl);\n    }\n\n    form.reset();\n  };\n\n  return (\n    <div>\n      <form className={css.form} onSubmit={handleSubmit} autoComplete=\"off\">\n        <label className={css.label}>\n          <input placeholder='Введіть суму' type=\"text\" name=\"amount\" />\n        </label>\n        <button className={css.button} type=\"submit\">Підтримати</button>\n      </form>\n    </div>   \n  );\n};"],"names":["Calculator","navigate","useNavigate","user","useAuth","createInvoice","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","credentials","response","_context","prev","next","axios","headers","sent","abrupt","data","t0","console","error","alert","stop","_x","apply","arguments","_jsx","children","_jsxs","className","css","onSubmit","e","preventDefault","form","currentTarget","value","amount","parseFloat","isNaN","isAmountValid","elements","formData","ccy","merchantPaymInfo","reference","id","redirectUrl","webHookUrl","pageUrl","reset","autoComplete","placeholder","type","name"],"sourceRoot":""}